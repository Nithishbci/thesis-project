{"filter":false,"title":"deploy-eb.yml","tooltip":"/.github/workflows/deploy-eb.yml","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":52,"column":0},"action":"insert","lines":["name: Deploy Flask App to Elastic Beanstalk","","on:","  push:","    branches: [\"main\"]","","jobs:","  deploy:","    runs-on: ubuntu-latest","","    steps:","    - name: Checkout repository","      uses: actions/checkout@v3","","    - name: Set up Python","      uses: actions/setup-python@v4","      with:","        python-version: \"3.9\"","","    - name: Install dependencies","      run: |","        python -m pip install --upgrade pip","        pip install -r requirements.txt","","    - name: Zip application","      run: |","        zip -r app.zip . -x \"*.git*\"","","    - name: Configure AWS Credentials","      uses: aws-actions/configure-aws-credentials@v2","      with:","        aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}","        aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}","        aws-region: ${{ secrets.AWS_REGION }}","","    - name: Upload new version to Elastic Beanstalk","      run: |","        aws elasticbeanstalk create-application-version \\","          --application-name \"${{ secrets.EB_APP_NAME }}\" \\","          --version-label \"build-${{ github.run_number }}\" \\","          --source-bundle S3Bucket=\"elasticbeanstalk-${{ secrets.AWS_REGION }}-${{ secrets.AWS_ACCESS_KEY_ID }}\",S3Key=\"app-${{ github.run_number }}.zip\"","","    - name: Upload ZIP to S3","      run: |","        aws s3 cp app.zip \\","        s3://elasticbeanstalk-${{ secrets.AWS_REGION }}-${{ secrets.AWS_ACCESS_KEY_ID }}/app-${{ github.run_number }}.zip","","    - name: Deploy application version","      run: |","        aws elasticbeanstalk update-environment \\","          --environment-name \"${{ secrets.EB_ENV_NAME }}\" \\","          --version-label \"build-${{ github.run_number }}\"",""],"id":1}]]},"ace":{"folds":[],"scrolltop":521.9545466367863,"scrollleft":0,"selection":{"start":{"row":52,"column":0},"end":{"row":52,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":36,"state":["mlStringPre",6],"mode":"ace/mode/yaml"}},"timestamp":1764937771701,"hash":"099500f484084ca25e5b8b02e6f325df8962c00d"}